{% extends "main/base.html" %}

{% load static %}

{% block title %}<title>WHG v3.0a</title>{% endblock %}
{% block extra_head %}
  <script src="{% static 'js/spin.umd.js' %}"></script>  
  <link rel="stylesheet" href="{% static 'css/spin.css' %}"/>
	<style>
		#intro {font-size: .9rem;}
	</style>
{% endblock %}

{% block content %}

<div class="container mt-1" style="height: calc(100vh - 210px);">
	<div id="banner" class="banner-bare w-100 my-1 p-2">
		<div class="centered w-100">
		  <span class="title mb-0"><img src="{% static 'images/whg_logo.svg'%}"
          class="d-inline-block align-bottom me-2" height=80 width=80 alt=""/>World Historical Gazetteer</span>
		  <span id="tagline" class="mx-auto" style="display:block">linking knowledge about the past via place</span>
		</div>
	</div>

	<div id="content_top" class="row gx-2 gy-2 mx-0 h-75">
		<div class="col-sm-3" id="intro">
			<div class="p-2 border h-100">
				<p>Sed aliquam, metus ultricies varius auctor, eros neque iaculis est, ullamcorper cursus turpis purus non tellus.
					Nunc non velit quis est molestie tempor id eu tellus. Donec elementum, purus in ornare vehicula,
					lectus nulla molestie diam, vitae lacinia felis augue id leo. Praesent ac vehicula nulla. Sed sit amet lacinia arcu.
					Praesent suscipit a justo non ornare. Nulla a ligula commodo, laoreet risus a, cursus neque.
					Vestibulum ut orci ultricies, lacinia sapien ac, mollis justo.
				</p>
			</div>
		</div>
		<div class="col-sm-6">
			<div class="p-2 border mb-1 h-75 bg-light">map in the middle</div>
			<div class="p-2 border bg-light" style="height: 24%;">map blurb</div>
		</div>
		<div class="col-sm-3">
			<div class="gy-2 h-100 bg-light pb-1">
				<div class="h-50 border mb-1 p-1">
					<h6 class="bg-secondary text-light p-1">Datasets</h6>
				</div>
				<div class="h-50 border p-1">
					<h6 class="bg-secondary text-light p-1">Collections</h6>
				</div>
			</div>
		</div>
	</div> <!-- content_top -->

	<div id="content_bottom" class="row gx-2 gy-2 mx-0 h-25">
		<div class="col-sm-3 p-1">
			<div class="h-100 border p-1">search and browse</div>
		</div>
		<div class="col-sm-3 p-1">
			<div class="h-100 border p-1">upload and enhance</div>
		</div>
		<div class="col-sm-3 p-1">
			<div class="h-100 border p-1">build</div>
		</div>
		<div class="col-sm-3 p-1">
			<div class="h-100 border p-1">use</div>
		</div>
	</div> <!-- content_bottom-->
  <div class="modal fade" id="image_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header"><span id="header_text"></span>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span></button>
        </div>      
        <div class="modal-body">{% comment %}
          <button type="button" class="close" data-dismiss="modal">
	          <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
          </button>
          <img src="" class="imagepreview" style="width:100%; height:100%;" >{% endcomment %}
        </div>
      </div>
    </div>
  </div> 
</div>

<script type="text/javascript">
$(function(){
  $("[rel='tooltip']").tooltip();
  // modal for images
  $('.pop').on('click', function() {
    url = $(this).find('img').attr('src')
    txt = $(this).find('img').attr('alt')
    re=/(.png|.jpg|.jpeg|.gif|.tif)/g
    ext=url.match(re)[0]
    url = url.replace(ext,'_full'+ext)
    $("#header_text").html(txt)
    $('.imagepreview').attr('src', url);
    $('#image_modal').modal('show');   
  });	
})
</script>
{% endblock %}
